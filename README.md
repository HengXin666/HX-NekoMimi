# ğŸ± HX-NekoMimiï¼ˆçŒ«è€³å¬ä¹¦ï¼‰

ä¸€æ¬¾ç®€æ´ä¼˜é›…çš„ Android å¬ä¹¦åº”ç”¨ï¼Œä¸“æ³¨äºæœ¬åœ°æœ‰å£°ä¹¦æ’­æ”¾ä½“éªŒã€‚

æ”¯æŒ **MP3 / WAV / M4A / M4S** ç­‰å¤šç§éŸ³é¢‘æ ¼å¼ï¼ŒSRT / ASS å­—å¹•åŒæ­¥æ˜¾ç¤ºï¼Œè‡ªåŠ¨è®°å¿†æ’­æ”¾è¿›åº¦ï¼Œä»¥åŠå¾ªç¯èƒŒæ™¯éŸ³ä¹ä¼´å¬ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ“š **ä¹¦ç±ç®¡ç†** â€” é€šè¿‡ç³»ç»Ÿæ–‡ä»¶é€‰æ‹©å™¨ï¼ˆSAFï¼‰å¯¼å…¥ä¹¦ç±æ–‡ä»¶å¤¹ï¼Œè‡ªåŠ¨é€’å½’æ‰«æéŸ³é¢‘æ–‡ä»¶ç”Ÿæˆç« èŠ‚åˆ—è¡¨
- ğŸ§ **éŸ³é¢‘æ’­æ”¾** â€” åŸºäº Media3 (ExoPlayer) å®ç°ï¼Œæ”¯æŒåå°æ’­æ”¾ã€é€šçŸ¥æ /é”å±æ§åˆ¶
- ğŸ“ **å­—å¹•åŒæ­¥** â€” æ”¯æŒ SRT / ASS / SSA å­—å¹•æ ¼å¼ï¼Œæ’­æ”¾æ—¶é«˜äº®æ˜¾ç¤ºå½“å‰å­—å¹•è¡Œå¹¶è‡ªåŠ¨æ»šåŠ¨
- ğŸ’¾ **è¿›åº¦è®°å¿†** â€” è‡ªåŠ¨ä¿å­˜æ¯æœ¬ä¹¦æ¯ä¸ªç« èŠ‚çš„æ’­æ”¾è¿›åº¦ï¼Œä¸‹æ¬¡æ‰“å¼€è‡ªåŠ¨æ¢å¤
- ğŸµ **èƒŒæ™¯éŸ³ä¹** â€” æ”¯æŒé€‰æ‹©ä¸€é¦–èƒŒæ™¯éŸ³ä¹å¾ªç¯æ’­æ”¾ï¼Œå¯å¾®è°ƒéŸ³é‡ï¼Œä¸å¬ä¹¦å£°éŸ³åŒæ—¶æ’­æ”¾
- ğŸŒ™ **ç²‰è‰²é»‘å¤œä¸»é¢˜** â€” æ·±è‰²ç•Œé¢æ­é…ç²‰è‰²å¼ºè°ƒè‰²ï¼Œé•¿æ—¶é—´å¬ä¹¦ä¸ä¼¤çœ¼

## ğŸ“± åº”ç”¨æˆªå›¾

> ï¼ˆå¾…è¡¥å……ï¼‰

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```
com.hx.nekomimi/
â”œâ”€â”€ bgm/                   # èƒŒæ™¯éŸ³ä¹ç®¡ç†
â”‚   â””â”€â”€ BgmManager.kt      # BGM å…¨å±€å•ä¾‹ï¼ˆMediaPlayer å¾ªç¯æ’­æ”¾ï¼‰
â”œâ”€â”€ data/                   # æ•°æ®å±‚
â”‚   â”œâ”€â”€ dao/                # Room DAO
â”‚   â”œâ”€â”€ entity/             # æ•°æ®å®ä½“ï¼ˆBook / Chapter / PlaybackProgressï¼‰
â”‚   â”œâ”€â”€ repository/         # æ•°æ®ä»“åº“
â”‚   â””â”€â”€ AppDatabase.kt     # Room æ•°æ®åº“
â”œâ”€â”€ service/                # æœåŠ¡å±‚
â”‚   â””â”€â”€ MediaPlaybackService.kt  # Media3 å‰å°åª’ä½“æ’­æ”¾æœåŠ¡
â”œâ”€â”€ subtitle/               # å­—å¹•æ¨¡å—
â”‚   â””â”€â”€ SubtitleParser.kt   # SRT / ASS å­—å¹•è§£æå™¨
â”œâ”€â”€ ui/                     # ç•Œé¢å±‚
â”‚   â”œâ”€â”€ adapter/            # RecyclerView é€‚é…å™¨
â”‚   â”œâ”€â”€ viewmodel/          # ViewModelï¼ˆMVVMï¼‰
â”‚   â”œâ”€â”€ MainActivity.kt     # ä¸»é¡µ - ä¹¦ç±åˆ—è¡¨
â”‚   â”œâ”€â”€ BookDetailActivity.kt  # ä¹¦ç±è¯¦æƒ… - ç« èŠ‚åˆ—è¡¨
â”‚   â””â”€â”€ PlayerActivity.kt   # æ’­æ”¾é¡µé¢
â”œâ”€â”€ util/                   # å·¥å…·ç±»
â”‚   â”œâ”€â”€ FileScanner.kt      # éŸ³é¢‘æ–‡ä»¶é€’å½’æ‰«æ
â”‚   â””â”€â”€ TimeUtils.kt        # æ—¶é—´æ ¼å¼åŒ–
â””â”€â”€ NekoMimiApp.kt          # Application å…¥å£
```

### æŠ€æœ¯æ ˆ

| åˆ†ç±» | æŠ€æœ¯ |
|------|------|
| è¯­è¨€ | Kotlin |
| æœ€ä½ç‰ˆæœ¬ | Android 8.0 (API 26) |
| ç›®æ ‡ç‰ˆæœ¬ | Android 15 (API 35) |
| UI æ¶æ„ | MVVM + ViewBinding |
| éŸ³é¢‘æ’­æ”¾ | AndroidX Media3 (ExoPlayer) |
| æ•°æ®åº“ | Room + KSP |
| å¼‚æ­¥ | Kotlin Coroutines |
| å›¾ç‰‡åŠ è½½ | Glide |
| æ–‡ä»¶è®¿é—® | SAF (Storage Access Framework) |
| æ„å»ºå·¥å…· | Gradle 8.9 + Kotlin DSL |

## ğŸš€ æ„å»ºä¸è¿è¡Œ

### å‰ç½®è¦æ±‚

- Android Studio Hedgehog (2023.1) æˆ–æ›´é«˜ç‰ˆæœ¬
- JDK 17
- Android SDK 35

### æœ¬åœ°æ„å»º

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/HX-NekoMimi.git
cd HX-NekoMimi

# Debug æ„å»º
./gradlew assembleDebug

# APK è¾“å‡ºè·¯å¾„
# app/build/outputs/apk/debug/app-debug.apk
```

### Release æ„å»º

Release æ„å»ºéœ€è¦é…ç½®ç­¾åå¯†é’¥ï¼Œé€šè¿‡ç¯å¢ƒå˜é‡ä¼ å…¥ï¼š

```bash
export KEYSTORE_FILE=/path/to/your-keystore.jks
export KEYSTORE_PASSWORD=your_store_password
export KEY_ALIAS=your_key_alias
export KEY_PASSWORD=your_key_password

./gradlew assembleRelease
```

## ğŸ“¦ è‡ªåŠ¨å‘å¸ƒ

é¡¹ç›®é…ç½®äº† GitHub Actions è‡ªåŠ¨æ„å»ºæµç¨‹ï¼ˆ`.github/workflows/release.yml`ï¼‰ï¼š

- **æ¨é€åˆ° main åˆ†æ”¯** â†’ è‡ªåŠ¨æ„å»º nightly é¢„å‘å¸ƒç‰ˆæœ¬
- **æ‰‹åŠ¨è§¦å‘ workflow** â†’ æŒ‡å®šç‰ˆæœ¬å·å’Œæè¿°ï¼Œåˆ›å»ºæ­£å¼ Release

æ„å»ºäº§ç‰©ä¼šè‡ªåŠ¨ä¸Šä¼ è‡³ [GitHub Releases](../../releases) é¡µé¢ã€‚

## ğŸ“– ä½¿ç”¨è¯´æ˜

1. **æ·»åŠ ä¹¦ç±** â€” ç‚¹å‡»ä¸»é¡µå³ä¸Šè§’ `+` æŒ‰é’®ï¼Œé€‰æ‹©åŒ…å«éŸ³é¢‘æ–‡ä»¶çš„æ–‡ä»¶å¤¹
2. **æµè§ˆç« èŠ‚** â€” ç‚¹å‡»ä¹¦ç±å¡ç‰‡è¿›å…¥è¯¦æƒ…é¡µï¼ŒæŸ¥çœ‹è‡ªåŠ¨æ‰«æå‡ºçš„ç« èŠ‚åˆ—è¡¨
3. **æ’­æ”¾å¬ä¹¦** â€” ç‚¹å‡»ç« èŠ‚å¼€å§‹æ’­æ”¾ï¼Œæ”¯æŒå¿«è¿›/å¿«é€€ 30 ç§’ï¼Œè¿›åº¦è‡ªåŠ¨ä¿å­˜
4. **å­—å¹•æ˜¾ç¤º** â€” å¦‚æœéŸ³é¢‘ç›®å½•ä¸­å­˜åœ¨åŒåçš„ `.srt` æˆ– `.ass` å­—å¹•æ–‡ä»¶ï¼Œæ’­æ”¾æ—¶ä¼šè‡ªåŠ¨åŠ è½½å¹¶åŒæ­¥æ˜¾ç¤º
5. **èƒŒæ™¯éŸ³ä¹** â€” åœ¨æ’­æ”¾é¡µé¢ç‚¹å‡»åº•éƒ¨ã€ŒèƒŒæ™¯éŸ³ä¹ã€å…¥å£ï¼Œé€‰æ‹©ä¸€é¦–èƒŒæ™¯éŸ³ä¹å¾ªç¯ä¼´å¬ï¼Œå¯å¾®è°ƒéŸ³é‡

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›ä¸ªäººå­¦ä¹ ä½¿ç”¨ã€‚
